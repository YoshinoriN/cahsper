db {
  ctx {
    dataSourceClassName = "org.mariadb.jdbc.MariaDbDataSource"
    dataSource.url = ${?CAHSPER_DB_DATASOURCE_URL}
    dataSource.user = ${?CAHSPER_DB_USER}
    dataSource.password = ${?CAHSPER_DB_PASSWORD}

    connectionTimeout = 30000
    connectionTimeout = ${?CAHSPER_DB_CONNECTION_TIMEOUT}

    maximumPoolSize = 6
    maximumPoolSize = ${?CAHSPER_DB_MAXIMUM_POOLSIZE}
  }
}

http {
  host = "127.0.0.1"
  host = ${?CAHSPER_HTTP_BIND_ADDRESS}

  port = "9001"
  port = ${?CAHSPER_HTTP_PORT}
}

aws {
  cognito {
    # JWT iss
    # https://cognito-idp.{region}.amazonaws.com/{userPoolId}
    iss = "https://cognito-idp.example.amazonaws.com/example_user_pool_id"

    # https://docs.aws.amazon.com/cognito/latest/developerguide/amazon-cognito-user-pools-using-tokens-verifying-a-jwt.html
    # https://cognito-idp.{region}.amazonaws.com/{userPoolId}/.well-known/jwks.json
    jwk = ${?CAHSPER_AWS_COGNITO_JWK}

    # https://docs.aws.amazon.com/cognito/latest/developerguide/user-pool-settings-client-apps.html
    appClientId = "<cognito_application_client_id>"
  }
}
